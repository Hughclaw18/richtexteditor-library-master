#$Id$
#Common Variables
product_name="richtexteditor-library"
product_version="1.0"
debug=on
optimize=off
deprecation=off

###############################################################################################################
###############################################################################################################
###############################################################################################################

targetfull_order=executecommand,staticzip_creation

local_order=executecommand,staticzip_creation

###############################################################################################################

checkout_order=hgclone:cmtp
executecommand_order=exec:createoutputdir,exec:npminstall,exec:merge
#executecommand_order=exec:compass
staticzip_creation_order=copytask:rtedist,copytask:rtedemo,genzip:rtezip


#######################################################################################
###################### COMMON BUILD VARIABLES ########################################
#######################################################################################

build_dir=${basedir}/RICHTEXTEDITOR_LIBRARY
source_basedir=${basedir}/..
tp_pkg=${build_dir}/thirdparty_packages
tp_src=${build_dir}/thirdparty_sources
up_pkg=${build_dir}/utility_packages
pkg_dir=${build_dir}/pkg
output_dir=${build_dir}/output

###############################################################################################################

npminstall_exec_dir=${source_basedir}
npminstall_exec_command=sh
npminstall_exec_args=install.sh

merge_exec_dir=${source_basedir}
merge_exec_command=npm
merge_exec_args=run build

compass_exec_dir=which
compass_exec_command=compass
compass_exec_args=

createoutputdir_exec_dir=${build_dir}
createoutputdir_exec_command=mkdir
createoutputdir_exec_args=output

rtedist_copytask=${source_basedir}/dist,${output_dir}/dist,**,,
rtedemo_copytask=${source_basedir}/demo,${output_dir}/demo,**,,

rtezip_genzip=${output_dir}/rte-static.zip,${output_dir}/dist,.